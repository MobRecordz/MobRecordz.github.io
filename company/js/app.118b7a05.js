(function(a){function e(e){for(var n,i,s=e[0],c=e[1],l=e[2],p=0,u=[];p<s.length;p++)i=s[p],r[i]&&u.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(a[n]=c[n]);m&&m(e);while(u.length)u.shift()();return o.push.apply(o,l||[]),t()}function t(){for(var a,e=0;e<o.length;e++){for(var t=o[e],n=!0,s=1;s<t.length;s++){var c=t[s];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),a=i(i.s=t[0]))}return a}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=a,i.c=n,i.d=function(a,e,t){i.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:t})},i.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,e){if(1&e&&(a=i(a)),8&e)return a;if(4&e&&"object"===typeof a&&a&&a.__esModule)return a;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:a}),2&e&&"string"!=typeof a)for(var n in a)i.d(t,n,function(e){return a[e]}.bind(null,n));return t},i.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return i.d(e,"a",e),e},i.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var m=c;o.push([0,"chunk-vendors"]),t()})({0:function(a,e,t){a.exports=t("56d7")},2756:function(a,e,t){"use strict";var n=t("56aa"),r=t.n(n);r.a},"34df":function(a,e,t){"use strict";var n=t("4573"),r=t.n(n);r.a},4573:function(a,e,t){},"56aa":function(a,e,t){},"56d7":function(a,e,t){"use strict";t.r(e);t("cadf"),t("551c"),t("f751"),t("097d");var n=t("2b0e"),r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"nav"}},[t("div",{staticClass:"nav-item mr-2"},[t("router-link",{attrs:{to:"/"}},[a._v("Главная")])],1),t("div",{staticClass:"nav-item"},[t("router-link",{attrs:{to:"/info"}},[a._v("Информация")])],1)]),t("router-view")],1)},o=[],i=(t("5c0b"),t("2877")),s={},c=Object(i["a"])(s,r,o,!1,null,null,null),l=c.exports,m=t("8c4f"),p=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"home"},[t("div",{staticClass:"controls"},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.create",modifiers:{create:!0}}],attrs:{variant:"primary"}},[a._v("Добавить компанию")])],1),t("create-company",{attrs:{state:!0}}),a.getAllCompanies.length>0?t("company-table",{attrs:{companyArray:a.getAllCompanies,totalRows:a.getTotalRows}}):t("b-card",{staticClass:"empty w-75"},[a._v("\n    В этой таблице пока ничего нет.\n  ")])],1)},u=[],d=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"create"},[t("b-collapse",{staticClass:"mt-2",attrs:{id:"create"}},[t("b-card",[t("b-form",{on:{submit:a.onSubmit}},[t("h5",[a._v("Добавление новой компании")]),t("br"),t("b-form-group",{attrs:{label:"ИНН Компании:","label-for":"inn"}},[t("b-form-input",{attrs:{id:"inn",type:"text",required:"",placeholder:"Пример: 644901001"},model:{value:a.inn,callback:function(e){a.inn=e},expression:"inn"}})],1),t("b-form-group",{attrs:{label:"Название Компании:","label-for":"companyName"}},[t("b-form-input",{attrs:{id:"companyName",type:"text",required:"",placeholder:"Введите название"},model:{value:a.companyName,callback:function(e){a.companyName=e},expression:"companyName"}})],1),t("b-form-group",{attrs:{label:"Email компании:","label-for":"companyLeader"}},[t("b-form-input",{attrs:{id:"companyLeader",type:"email",required:"",placeholder:"example@gmail.com"},model:{value:a.companyEmail,callback:function(e){a.companyEmail=e},expression:"companyEmail"}})],1),t("br"),t("b-form-group",{attrs:{label:"Имя и фамилия руководителя:","label-for":"companyLeader"}},[t("b-form-input",{attrs:{id:"companyLeader",type:"text",required:"",placeholder:"Например: Иван Иванович"},model:{value:a.companyLeader,callback:function(e){a.companyLeader=e},expression:"companyLeader"}})],1),t("b-alert",{attrs:{show:"",variant:"danger"},model:{value:a.error.isShow,callback:function(e){a.$set(a.error,"isShow",e)},expression:"error.isShow"}},[a._v(a._s(a.error.msg))]),t("b-button",{attrs:{type:"submit",variant:"outline-primary"}},[a._v("Добавить")])],1)],1)],1)],1)},f=[],h={name:"create-company",props:["state"],data:function(){return{inn:"",companyName:"",companyEmail:"",companyLeader:"",error:{isShow:!1,msg:""}}},methods:{onSubmit:function(){if(window.event.preventDefault(),this.$store.getters.companies.length>0)for(var a=0;a<this.$store.getters.companies.length;a++){var e=this.$store.getters.companies[a];if(e.inn==this.inn){this.triggerError("Компания с таким ИНН уже существует.",!0);break}if(e.companyName==this.companyName){this.triggerError("Компания с таким НАЗВАНИЕМ уже существует.",!0);break}if(e.companyEmail==this.companyEmail){this.triggerError("Компания с таким ЕМАИЛ уже существует.",!0);break}if(this.$store.getters.companies.length==a+1){this.triggerError("",!1),this.$store.dispatch("addCompany",{inn:this.inn,companyName:this.companyName,companyEmail:this.companyEmail,companyLeader:this.companyLeader});break}}else this.$store.dispatch("addCompany",{inn:this.inn,companyName:this.companyName,companyEmail:this.companyEmail,companyLeader:this.companyLeader})},triggerError:function(a,e){this.error.isShow=e,this.error.msg=a}}},b=h,g=(t("34df"),Object(i["a"])(b,d,f,!1,null,"45d2559c",null)),y=g.exports,v=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"main"},[a.totalRows>a.perPage?t("b-row",[t("b-col",{staticClass:"my-1",attrs:{md:"6"}},[t("b-pagination",{staticClass:"my-0",attrs:{"total-rows":a.totalRows,"per-page":a.perPage},model:{value:a.currentPage,callback:function(e){a.currentPage=e},expression:"currentPage"}})],1)],1):a._e(),t("b-table",{ref:"table",attrs:{borderless:"",outlined:"",hover:"",fixed:"","no-provider-paging":"",busy:a.isLoading,items:a.companyArray,fields:a.fields,"current-page":a.currentPage,"per-page":a.perPage,"sort-by":a.sortBy,"primary-key":"inn"},on:{"update:busy":function(e){a.isLoading=e},"update:sortBy":function(e){a.sortBy=e},"update:sort-by":function(e){a.sortBy=e}},scopedSlots:a._u([{key:"actions",fn:function(e){return[t("b-button",{on:{click:function(t){return a.setInfo(e)}}},[t("i",{staticClass:"fas fa-info-circle"}),a._v("Детали\n      ")])]}},{key:"row-details",fn:function(e){return[t("b-row",[t("b-col",[t("b-card",[t("h5",[a._v("Информация")]),t("br"),t("ul",a._l(e.item,function(e,n){return t("li",{key:n},["inn"==n?t("strong",[a._v("ИНН: ")]):"companyName"==n?t("strong",[a._v("Название компании:\n                ")]):"companyEmail"==n?t("strong",[a._v("Email компании:\n                ")]):"companyLeader"==n?t("strong",[a._v("Имя и фамилия руководителя:\n                ")]):a._e(),"_showDetails"!=n?t("span",[a._v(a._s(e))]):a._e(),t("br")])}),0),t("p",[a._v("\n              Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima\n              excepturi tempora sequi sed repellat dolore natus praesentium\n              maiores aut aspernatur?\n            ")]),t("b-button",{staticClass:"mr-2",attrs:{variant:"light"},on:{click:function(e){a.changeCardIsShow=!a.changeCardIsShow}}},[t("i",{staticClass:"fas fa-sliders-h"}),a._v(" Редактировать\n            ")])],1)],1),a.changeCardIsShow?t("b-col",[t("b-card",[t("h5",[a._v("Редактирование компонента")]),t("br"),t("b-form",[t("b-form-group",{attrs:{label:"ИНН:","label-for":"inn"}},[t("b-form-input",{attrs:{id:"inn",placeholder:"Введите ИНН"},model:{value:a.changedData.inn,callback:function(e){a.$set(a.changedData,"inn",e)},expression:"changedData.inn"}})],1),t("b-form-group",{attrs:{label:"Название компании:","label-for":"inn"}},[t("b-form-input",{attrs:{placeholder:"Введите название"},model:{value:a.changedData.companyName,callback:function(e){a.$set(a.changedData,"companyName",e)},expression:"changedData.companyName"}})],1),t("b-form-group",{attrs:{label:"Email компании:","label-for":"inn"}},[t("b-form-input",{attrs:{type:"email",placeholder:"Введиту Email"},model:{value:a.changedData.companyEmail,callback:function(e){a.$set(a.changedData,"companyEmail",e)},expression:"changedData.companyEmail"}})],1),t("b-form-group",{attrs:{label:"Имя и фамилия руководителя:","label-for":"inn"}},[t("b-form-input",{attrs:{placeholder:"Введите Имя и Фамилию руководителя"},model:{value:a.changedData.companyLeader,callback:function(e){a.$set(a.changedData,"companyLeader",e)},expression:"changedData.companyLeader"}})],1),t("b-alert",{attrs:{show:"",variant:"danger"},model:{value:a.error.isShow,callback:function(e){a.$set(a.error,"isShow",e)},expression:"error.isShow"}},[a._v(a._s(a.error.msg))]),t("b-button",{staticClass:"mr-2",attrs:{variant:"success"},on:{click:function(t){return a.changeItem(e.item)}}},[t("i",{staticClass:"fas fa-check"}),a._v(" Сохранить\n              ")]),t("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.removeItem(e.item)}}},[t("i",{staticClass:"fas fa-trash-alt"}),a._v(" Удалить\n              ")])],1)],1)],1):a._e()],1)]}}])}),a.totalRows>a.perPage?t("b-row",[t("b-col",{staticClass:"my-1",attrs:{md:"6"}},[t("b-pagination",{staticClass:"my-0",attrs:{"total-rows":a.totalRows,"per-page":a.perPage},model:{value:a.currentPage,callback:function(e){a.currentPage=e},expression:"currentPage"}})],1)],1):a._e()],1)},_=[],w=(t("ac6a"),t("c5f6"),{name:"company-table",props:{companyArray:{type:Array,default:function(){return[]}},totalRows:{type:Number,default:0}},data:function(){return{fields:[{key:"inn",sortable:!0},"companyName","companyLeader","companyEmail","actions"],isLoading:!1,sortBy:"inn",currentPage:1,perPage:20,changeCardIsShow:!1,error:{isShow:!1,msg:""},changedData:{inn:"",companyName:"",companyEmail:"",companyLeader:"",selectedIndex:null}}},methods:{setInfo:function(a){a.index!=this.changedData.selectedIndex&&(this.companyArray.forEach(function(a){a._showDetails&&(a._showDetails=!1)}),this.changedData.inn="",this.changedData.companyName="",this.changedData.companyEmail="",this.changedData.companyLeader=""),a.toggleDetails(),this.changedData.selectedIndex=a.index},changeItem:function(a){for(var e=0;e<this.companyArray.length;e++){if(this.companyArray[e].inn==this.changedData.inn){this.triggerError("Компания с таким ИНН уже существует.",!0);break}if(this.companyArray[e].companyName==this.changedData.companyName){this.triggerError("Компания с таким НАЗВАНИЕМ уже существует.",!0);break}if(this.companyArray[e].companyEmail==this.changedData.companyEmail){this.triggerError("Компания с таким EMAIL уже существует.",!0);break}if(e==this.companyArray.length-1){this.triggerError("",!1),this.changeCardIsShow=!1,this.$store.dispatch("changeCompany",{inn:a.inn,newData:this.changedData});break}}},removeItem:function(a){this.changeCardIsShow=!1,this.$store.dispatch("removeCompany",a.inn)},triggerError:function(a,e){this.error.isShow=e,this.error.msg=a}}}),C=w,k=(t("e297"),Object(i["a"])(C,v,_,!1,null,"7042bc14",null)),S=k.exports,E={name:"home",components:{companyTable:S,createCompany:y},watch:{getTotalRows:function(a){this.totalRows=a}},computed:{getAllCompanies:function(){return this.$store.getters.companies},getTotalRows:function(){return this.$store.getters.companies.length}},created:function(){this.$store.dispatch("initStore")}},x=E,D=(t("2756"),Object(i["a"])(x,p,u,!1,null,"4056e9b5",null)),L=D.exports,N=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"main"},[t("b-card",[t("h4",[a._v("Информация")]),t("hr"),t("br"),t("h5",[a._v("Установка зависимостей приложения")]),t("div",{staticClass:"code-block"},[t("strong",[a._v("npm install")])]),t("br"),t("h5",[a._v("Компиляция и горячая перезагрузка для разработки")]),t("div",{staticClass:"code-block"},[t("strong",[a._v("npm run serve")])]),t("br"),t("h5",[a._v("Компиляция в production версию")]),t("div",{staticClass:"code-block"},[t("strong",[a._v("npm run build")])]),t("br"),t("br"),t("h4",[a._v("Задача")]),t("hr"),t("br"),t("p",[a._v("Разработать и реализовать интерфейс для добавления и редактирования справочника по компаниям.")]),t("span",[a._v("Необходимый функционал:")]),t("ul",[t("li",[a._v("Посмотреть все компании в виде списка")]),t("li",[a._v("Добавить компанию")]),t("li",[a._v("Редактировать добавленную компанию")]),t("li",[a._v("Удалить добавленную компанию")])]),t("br"),t("span",[a._v("Дополнительный функционал:")]),t("ul",[t("li",[a._v("Клиентская пагинация: данные необходимо отображать постранично, максимум 50 элементов\n          на страницу, необходимо предоставить пользовательскую навигацию для перехода по\n          страницам.")]),t("li",[a._v("Клиентская сортировка: при нажатии на название столбца строки таблицы сортируются по\n          возрастанию, при повторном клике - по убыванию.")]),t("li",[a._v("Использовать сервис с подсказками https://dadata.ru/api/suggest/ для заполнения формы о\n          новой компании. Пользователь вводит данные в поле и ввод дополняется подсказкой в виде\n          выпадающего списка с данными из сервиса.")])]),t("br"),t("span",[a._v("Обязательные колонки в списке и поля формы:")]),t("ul",[t("li",[a._v("ИНН компании")]),t("li",[a._v("Наименование компании")]),t("li",[a._v("Руководитель компании")])]),t("br"),t("span",[a._v("Данные с записями хранить в localStorage. Компания идентифицируется по ИНН!")]),t("br"),t("br"),t("span",[a._v("Предпочтительные библиотеки: Vue, AngularJS, MaterializeCSS, Bootstrap;")])])],1)},$=[],P=(t("d53d"),{}),I=Object(i["a"])(P,N,$,!1,null,"c2d24312",null),A=I.exports;n["a"].use(m["a"]);var O=new m["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:L},{path:"/info",name:"info",component:A}]}),j=t("f499"),R=t.n(j),M=t("a4bb"),T=t.n(M),B=t("2f62");n["a"].use(B["a"]);var q=new B["a"].Store({state:{companies:[]},getters:{companies:function(a){return a.companies}},mutations:{initStore:function(a,e){a.companies=e},addCompany:function(a,e){a.companies.push(e)},removeCompany:function(a,e){for(var t=0;t<a.companies.length;t++)if(e==a.companies[t].inn){a.companies.splice(t,1);break}},changeCompany:function(a,e){var t=function(t){return e.inn==a.companies[t].inn?(T()(e.newData).forEach(function(n){if(e.newData[n]){var r=e.newData[n];a.companies[t][n]=r}}),"break"):"continue"};a:for(var n=0;n<a.companies.length;n++){var r=t(n);switch(r){case"break":break a;case"continue":continue}}}},actions:{initStore:function(a){if(null!=window.localStorage.getItem("companies")){var e=window.localStorage.getItem("companies");a.commit("initStore",JSON.parse(e))}},addCompany:function(a,e){a.commit("addCompany",e),a.dispatch("updateLocalStorage")},removeCompany:function(a,e){a.commit("removeCompany",e),a.dispatch("updateLocalStorage")},changeCompany:function(a,e){a.commit("changeCompany",e),a.dispatch("updateLocalStorage")},updateLocalStorage:function(a){var e=R()(a.getters.companies);window.localStorage.setItem("companies",e),a.dispatch("initStore")}}}),J=t("9f7b"),z=t.n(J);t("f9e3"),t("2dd8");n["a"].use(z.a),n["a"].config.productionTip=!1,new n["a"]({router:O,store:q,render:function(a){return a(l)}}).$mount("#app")},"5c0b":function(a,e,t){"use strict";var n=t("5e27"),r=t.n(n);r.a},"5e27":function(a,e,t){},b0a2:function(a,e,t){},b727:function(a,e,t){},d53d:function(a,e,t){"use strict";var n=t("b0a2"),r=t.n(n);r.a},e297:function(a,e,t){"use strict";var n=t("b727"),r=t.n(n);r.a}});
//# sourceMappingURL=app.118b7a05.js.map